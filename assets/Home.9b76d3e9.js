import{_ as g,o as l,c as o,a as i,t as p,b as u,F as x,p as w,d as k,r as A,n as h,e as y,f as v,g as b}from"./index.820fb281.js";var T="/pwaTest/playerIcons/btn_ShufflePlayback.svg",I="/pwaTest/playerIcons/btn_ShufflePlayback-black.svg",C="/pwaTest/playerIcons/btn_Rewind.svg",S="/pwaTest/playerIcons/btn_Play.svg",M="/pwaTest/playerIcons/btn_pause.svg",P="/pwaTest/playerIcons/btn_Fast.svg",K="/pwaTest/playerIcons/btn_RepeatAll.svg",R="/pwaTest/playerIcons/btn_RepeatOne-black.svg",E="/pwaTest/playerIcons/btn_RepeatAll-black.svg";const F={name:"Control",data(){return{currentTime:0,duration:0,repeat:0}},inheritAttrs:!1,props:{index:Number,play:Boolean,shuffle:Boolean,musicArr:Array,openlist:Function,ChangePlay:Function,ChangeShuffle:Function,setIndex:Function,setRepeat:Function,setPlay:Function,repeatPlay:Function},watch:{},mounted(){},methods:{ChangeSong(n,t){if(this.shuffle===!0)if(this.musicArr.length===1)this.repeatPlay();else{const e=Math.floor(Math.random()*this.musicArr.length);for(;e===this.index;)e=Math.floor(Math.random()*this.musicArr.length);this.setIndex(e)}else n==="+1"?(t+=1,t===this.musicArr.length&&(t=0)):t===0?t=this.musicArr.length-1:t-=1,this.setIndex(t)},ChangeRepeat(){this.repeat+=1,this.repeat===3&&(this.repeat=0),this.setRepeat(this.repeat)},canplay(){const n=document.querySelector("audio");this.currentTime=n.currentTime,this.duration=n.duration},changeTimelinePosition(){const n=document.querySelector("audio"),t=document.querySelector(".timeline"),e=100*n.currentTime/this.duration;t.style.backgroundSize=`${e}% 100%`,t.value=e,this.currentTime=n.currentTime},timeToMinute(n){var t=parseInt(parseInt(n)/60),e=parseInt(parseInt(n)%60);e<10&&(e="0"+e);var d="0"+t+":"+e;return d},end(){if(document.querySelector("audio"),this.repeat===0)this.setPlay(!1);else if(this.repeat===1)this.repeatPlay(),this.setPlay(!0);else if(this.shuffle===!0)if(this.musicArr.length===1)this.repeatPlay();else{const t=Math.floor(Math.random()*this.musicArr.length);for(;t===this.index;)t=Math.floor(Math.random()*this.musicArr.length);this.setIndex(t)}else{var n=this.index+1;n===this.musicArr.length&&(n=0),this.setIndex(n)}},changeTrack(){const n=document.querySelector("audio"),e=document.querySelector(".timeline").value*this.duration/100;n.currentTime=e}}},_=n=>(w("data-v-4c549063"),n=n(),k(),n),N=["oncanplay","ontimeupdate","onended"],O={class:"w-full justify-center items-center bottom-0 bg-white flex-col absolute pb-5"},j={key:0,class:"w-full text-center flex justify-center items-center flex-col relative"},U=_(()=>i("div",{class:"w-full h-10 bg-gradient-to-t from-[rgba(255,255,255,1)] to-[rgba(255,255,255,0)] absolute -top-10"},null,-1)),q={class:"my-1"},B={class:"w-10/12 flex justify-between items-center"},D={class:"control w-10/12 flex justify-evenly items-center"},G={key:0,src:T},L={key:1,src:I},H=_(()=>i("img",{src:C},null,-1)),V=[H],z={key:0,src:S},Y={key:1,src:M},J=_(()=>i("img",{src:P},null,-1)),Q=[J],W={key:0,src:K},X={key:1,src:R},Z={key:2,src:E};function $(n,t,e,d,s,a){return l(),o(x,null,[i("audio",{controls:"",oncanplay:a.canplay,ontimeupdate:a.changeTimelinePosition,onended:a.end,class:"hidden"},null,8,N),i("div",O,[e.musicArr[e.index]?(l(),o("div",j,[U,i("div",{class:"text-2xl font-bold cursor-pointer absolute -top-8",onClick:t[0]||(t[0]=(...r)=>e.openlist&&e.openlist(...r))},p(e.musicArr[e.index].name),1),i("div",q,p(e.musicArr[e.index].singer),1),i("input",{type:"range",id:"volume",class:"timeline w-10/12 my-3 cursor-pointer",min:"0",max:"100",value:0,onChange:t[1]||(t[1]=(...r)=>a.changeTrack&&a.changeTrack(...r))},null,32),i("div",B,[i("div",null,p(a.timeToMinute(s.currentTime)),1),i("div",null,p(a.timeToMinute(s.duration)),1)]),i("div",D,[i("button",{class:"btn",type:"button",onClick:t[2]||(t[2]=(...r)=>e.ChangeShuffle&&e.ChangeShuffle(...r))},[e.shuffle?(l(),o("img",L)):(l(),o("img",G))]),i("button",{class:"btn",type:"button",onClick:t[3]||(t[3]=r=>a.ChangeSong("-1",e.index))},V),i("button",{class:"play",type:"button",onClick:t[4]||(t[4]=(...r)=>e.ChangePlay&&e.ChangePlay(...r))},[e.play?(l(),o("img",Y)):(l(),o("img",z))]),i("button",{class:"btn",type:"button",onClick:t[5]||(t[5]=r=>a.ChangeSong("+1",e.index))},Q),i("button",{class:"btn",type:"button",onClick:t[6]||(t[6]=(...r)=>a.ChangeRepeat&&a.ChangeRepeat(...r))},[s.repeat===0?(l(),o("img",W)):u("",!0),s.repeat===1?(l(),o("img",X)):u("",!0),s.repeat===2?(l(),o("img",Z)):u("",!0)])])])):u("",!0)])],64)}var ee=g(F,[["render",$],["__scopeId","data-v-4c549063"]]),ne="/pwaTest/playerIcons/btn_back.svg",te="/pwaTest/playerIcons/btn_more.svg",se="/pwaTest/playerIcons/btn_small_play.svg",ie="/pwaTest/playerIcons/btn_small_pause.svg";const re={name:"List",data(){return{}},props:{index:Number,play:Boolean,musicArr:Array,closelist:Function,setIndex:Function,setPlay:Function},mounted(){},watch:{},methods:{ChangeSong(n){n===this.index?this.setPlay(!this.play):this.setIndex(n)}}},f=n=>(w("data-v-69f8fb2f"),n=n(),k(),n),le={class:"list w-full h-full pt-10 bg-[rgba(255,255,255,0.3)] absolute"},oe={class:"w-full h-[calc(100%-40px)]"},ae={class:"h-16 flex justify-around items-center"},ce=f(()=>i("p",{class:"text-white text-3xl font-black drop-shadow-[0_5px_5px_rgba(0,0,0,0.4)]"}," PLAYLIST ",-1)),ue=f(()=>i("img",{src:te,class:"h-16 border-white cursor-pointer"},null,-1)),me={class:"listcss w-full h-[calc(100%-25px)] overflow-auto pt-8"},pe=["onClick"],de={class:"w-11/12 h-16 flex justify-between items-center"},he={class:"name text-lg font-bold text-[rgb(140,140,140)]"},ge={class:"text-sm text-[rgb(140,140,140)]"},_e={key:0,src:se,class:"h-16 cursor-pointer"},fe={key:1,src:ie,class:"h-16 cursor-pointer"},ye=f(()=>i("hr",{class:"w-11/12 border-1/2 border-[rgba(140,140,140,0.5)]"},null,-1));function ve(n,t,e,d,s,a){return l(),o("div",le,[i("div",oe,[i("div",ae,[i("img",{src:ne,class:"h-16 cursor-pointer",onClick:t[0]||(t[0]=(...r)=>e.closelist&&e.closelist(...r))}),ce,ue]),i("div",me,[(l(!0),o(x,null,A(e.musicArr,(r,m)=>(l(),o("div",{key:m,class:h(["flex justify-center items-center flex-col cursor-pointer",e.index===m&&"play"]),onClick:c=>a.ChangeSong(m)},[i("div",de,[i("div",null,[i("p",he,p(r.name),1),i("p",ge,p(r.singer),1)]),e.index===m&&e.play===!0?(l(),o("img",fe)):(l(),o("img",_e))]),ye],10,pe))),128))])])])}var be=g(re,[["render",ve],["__scopeId","data-v-69f8fb2f"]]),xe=[{name:"Drawing The Universe",singer:"MAKTUB",src:"./mp3/Drawing The Universe.mp3",png:"./img/flower.png"},{name:"One in a Million",singer:"GENERATIONS",src:"./mp3/One in a Million.mp3",png:"./img/summer.png"},{name:"Knocking Knocking",singer:"THE RAMPAGE",src:"./mp3/Knocking Knocking.mp3",png:"./img/black.jpg"},{name:"Drawing The Universe1",singer:"MAKTUB",src:"./mp3/Drawing The Universe1.mp3",png:"./img/flower.png"},{name:"One in a Million1",singer:"GENERATIONS",src:"./mp3/One in a Million1.mp3",png:"./img/summer.png"},{name:"Knocking Knocking1",singer:"THE RAMPAGE",src:"./mp3/Knocking Knocking1.mp3",png:"./img/black.jpg"},{name:"Drawing The Universe2",singer:"MAKTUB",src:"./mp3/Drawing The Universe2.mp3",png:"./img/flower.png"},{name:"One in a Million2",singer:"GENERATIONS",src:"./mp3/One in a Million2.mp3",png:"./img/summer.png"},{name:"Knocking Knocking2",singer:"THE RAMPAGE",src:"./mp3/Knocking Knocking2.mp3",png:"./img/black.jpg"},{name:"Drawing The Universe3",singer:"MAKTUB",src:"./mp3/Drawing The Universe3.mp3",png:"./img/flower.png"},{name:"One in a Million3",singer:"GENERATIONS",src:"./mp3/One in a Million3.mp3",png:"./img/summer.png"},{name:"Knocking Knocking3",singer:"THE RAMPAGE",src:"./mp3/Knocking Knocking3.mp3",png:"./img/black.jpg"}];const we={name:"Home",components:{Control:ee,List:be},data(){return{index:0,play:!1,controlrepeat:0,shuffle:!1,openModal:!1,musicArr:[]}},watch:{index:function(n,t){const e=document.querySelector("audio");e.src=this.musicArr[n].src,this.play=!0,e.play()},play:function(){const n=document.querySelector("audio");this.play?n.play():n.pause()}},mounted(){this.musicArr=xe;const n=document.querySelector("audio");n.src=this.musicArr[this.index].src},methods:{repeatPlay(){const n=document.querySelector("audio");n.src=this.musicArr[this.index].src,n.play()}}},ke={class:"w-screen h-screen flex justify-center items-center flex-col"},Ae={class:"w-full h-full relative overflow-hidden"},Te={key:1,class:"w-full h-[calc(100%-230px)] absolute p-8 top-0"},Ie={class:"w-full h-full relative border-white border-[10px] drop-shadow-xl overflow-hidden"};function Ce(n,t,e,d,s,a){const r=b("Control"),m=b("List");return l(),o("div",ke,[i("div",Ae,[s.musicArr[s.index]?(l(),o("div",{key:0,class:"w-full h-full relative bg-cover bg-no-repeat bg-center blur-md",style:y({backgroundImage:"url("+s.musicArr[s.index].png+")"})},null,4)):u("",!0),s.openModal?u("",!0):(l(),o("div",Te,[i("div",Ie,[s.musicArr[s.index]?(l(),o("div",{key:0,class:"w-screen h-screen bg-cover bg-no-repeat bg-center absolute -top-11 -left-11",style:y({backgroundImage:"url("+s.musicArr[s.index].png+")"})},null,4)):u("",!0)])])),i("div",{class:h(s.openModal?"hidden":"flex")},[v(r,{index:s.index,play:s.play,shuffle:s.shuffle,musicArr:s.musicArr,openlist:()=>s.openModal=!0,ChangePlay:()=>s.play=!s.play,ChangeShuffle:()=>s.shuffle=!s.shuffle,setIndex:c=>s.index=c,setPlay:c=>s.play=c,setRepeat:c=>s.controlrepeat=c,repeatPlay:a.repeatPlay},null,8,["index","play","shuffle","musicArr","openlist","ChangePlay","ChangeShuffle","setIndex","setPlay","setRepeat","repeatPlay"])],2),v(m,{index:s.index,play:s.play,musicArr:s.musicArr,setIndex:c=>s.index=c,setPlay:c=>s.play=c,closelist:()=>s.openModal=!1,class:h(s.openModal?"animate-[uplist_0.3s_ease-in_forwards]":"")},null,8,["index","play","musicArr","setIndex","setPlay","closelist","class"])])])}var Me=g(we,[["render",Ce]]);export{Me as default};
